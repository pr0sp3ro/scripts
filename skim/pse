#!/usr/bin/env bash

# project search
# used in .zshrc

isinstalled fd skim || exit

case "$1" in
    "g") dir="$HOME/.local/git" ;;
    "s") dir="$HOME/.local/src" ;;
    "st") dir="$HOME/tmp/src" ;;
    *) exit 1 ;;
esac

export SKIM_DEFAULT_COMMAND='fd -d 1 --type directory -E node_modules'
cd "$dir" && cd "$(sk --reverse)" && nvim
